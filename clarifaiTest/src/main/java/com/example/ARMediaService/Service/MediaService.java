package com.example.ARMediaService.Service;import org.springframework.stereotype.Service;import org.springframework.web.multipart.MultipartFile;import java.io.IOException;import java.util.List;@Servicepublic class MediaService {    private final ClarifaiEmbeddingService clarifaiEmbeddingService;    private final VectorDBService vectorDBService;    public MediaService(ClarifaiEmbeddingService clarifaiEmbeddingService , VectorDBService vectorDBService) {        this.clarifaiEmbeddingService = clarifaiEmbeddingService;        this.vectorDBService = vectorDBService;    }    // Convert an uploaded image file to its embedding vector using ClarifaiEmbeddingService    public List<Float> convertImageToEmbedding(MultipartFile file) throws IOException {        byte[] imageBytes = file.getBytes();        return clarifaiEmbeddingService.getImageEmbedding(imageBytes);    }    // Find nearest neighbors of the provided image from the existing images    public List<String> findSimilarImages(List<Float> imageEmbedding) throws Exception {        int top = 1; // number of nearest neighbours        return vectorDBService.queryNearestNeighbors(imageEmbedding, top);    }}